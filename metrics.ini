[Global]
FallbackTheme=_fallback

[Common]
InitialScreen="ScreenWarning"
FirstAttractScreen="ScreenWarning"
StepsTypesToHide="dance-threepanel,lights-cabinet"

PercentScoreDecimalPlaces=1
AutoSetStyle=false

ScreenWidth=1
ScreenHeight=720

[ProfileManager]
# I wouldn't change these either.
FixedProfiles=false
NumFixedProfiles=1

[SongManager]
ExtraStagePlayerModifiers="failimmediate,1.5x,reverse,4 lives,battery"
ExtraStageStageModifiers="failimmediate,1.5x,reverse,4 lives,battery"
ExtraStageSongModifiers="failimmediate,1.5x,reverse,4 lives,battery"
OMESPlayerModifiers="failimmediate,3x,reverse,1 lives,battery"
OMESStageModifiers="failimmediate,3x,reverse,1 lives,battery"
OMESSongModifiers="failimmediate,3x,reverse,1 lives,battery"

ExtraColorMeter=2147483647
NumSongGroupColors=1
SongGroupColor1=color("#ffffff") --default white

[UnlockManager]
AutoLockChallengeSteps=false
SongsNotAdditional=false
UnlockNames=
Unlock1Command=

[PlayerStageStats]
# Original CVS Grading
GradePercentTier01=1.000000
GradePercentTier02=0.950000
GradePercentTier03=0.900000
GradePercentTier04=0.800000
GradePercentTier05=0.700000
GradePercentTier06=0.600000
GradePercentTier07=-99999.000000
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=true
GradeTier02IsFullCombo=false
NumGradeTiersUsed=7

[GameState]
DefaultSort="Group"
DefaultSong="Songs/1-Licenses/Acapella"
# How good of a grade you have to get to get an ES/OMES. Locked to an 'AA'
GradeTierForExtra1="Grade_Tier03"
GradeTierForExtra2="Grade_Tier03"
# and how difficult that song you got has to be
MinDifficultyForExtra="Difficulty_Hard"
# System Direction
AreStagePlayerModsForced=true
AreStageSongModsForced=AreStageSongModsForced
# Let players join while you play if they put in some coins
# aw, c'mon.
AllowLateJoin=true
# Various feats that you can earn
ProfileRecordFeats=true
CategoryRecordFeats=true
# Disallow bad names
UseNameBlacklist=false
AllowExtra=true
AllowExtra2=true
# I'm pretty sure SN2 onward let you change difficulty, at least on ES
LockExtraStageSelection=false
# [sm-ssc] Normally, in event mode, the premium value is ignored. Set this
# metric to true to re-gain that behavior.
DisablePremiumInEventMode=false
# Let edit steps be allowed for earning extra stages.
EditAllowedForExtra=false

[CodeDetector]
# For Future Reference:
# @ = Holding
# - = In Conjuction With / Then
# ~ = Released
# + = At The Same Time
ModeMenu1=""
ModeMenu2=""
PrevSteps1="MenuUp"
PrevSteps2="Up-Up"
NextSteps1="MenuDown"
NextSteps2="Down-Down"
# Sorting should done via ScreenSelectMusic's SortMenu
# which is accessed via codes defined under [ScreenSelectMusic]
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""

[NoteField]
#For screen filter
ShowBoard = true
ShowBeatBars = ShowBeatBars()

[Gameplay]
UseInternalScoring = false
ComboIsPerRow = true
MissComboIsPerRow = true
MinScoreToContinueCombo=MinimumTNSForCombo()
MinScoreToMaintainCombo=MinimumTNSForCombo()
ToastyTriggersAt=ToastyTriggersAt
ToastyMinTNS='TapNoteScore_W3'

[LifeMeterBar]
OverOnCommand=
ForceLifeDifficultyOnExtraStage=true
MinScoreToKeepLife='TapNoteScore_W4'

[ScoreKeeperRave]

[Background]
ShowDancingCharacters=false

[ScreenSystemLayer]
ShowCreditDisplay=true
CreditsJoinOnly=false
ShowCoinsAndCredits=true

CreditsP1X=SCREEN_LEFT+102
CreditsP1Y=SCREEN_BOTTOM-10
CreditsP1RefreshCreditTextMessageCommand=playcommand,"UpdateText";
CreditsP1CoinInsertedMessageCommand=playcommand,"UpdateText";
CreditsP1CoinInsertedMessageCommand=playcommand,"UpdateText";
CreditsP1PlayerJoinedMessageCommand=playcommand,"UpdateText";
CreditsP1ScreenChangedMessageCommand=playcommand,"UpdateVisible";queuecommand,"On"
CreditsP1OnCommand=maxwidth,325;zoom,0.8;strokecolor,color("#000000")
CreditsP1OffCommand=

CreditsP2X=SCREEN_RIGHT-102
CreditsP2Y=SCREEN_BOTTOM-10
CreditsP2RefreshCreditTextMessageCommand=playcommand,"UpdateText";
CreditsP2CoinInsertedMessageCommand=playcommand,"UpdateText";
CreditsP2PlayerJoinedMessageCommand=playcommand,"UpdateText";
CreditsP2ScreenChangedMessageCommand=playcommand,"UpdateVisible";queuecommand,"On"
CreditsP2OnCommand=maxwidth,325;zoom,0.8;strokecolor,color("#000000")
CreditsP2OffCommand=


ShowNetworkStatus=true
NetworkStatusX=SCREEN_CENTER_X
NetworkStatusY=SCREEN_BOTTOM-10
NetworkStatusOnCommand=halign,0.5
NetworkStatusOffCommand=linear,0.5;cropright,1

###########SCREEN ATTRACT SCREENS#####################
[ScreenAttract]
Class="ScreenAttract"
Fallback="ScreenWithMenuElementsBlank"
StartScreen=Branch.TitleMenu()
CancelScreen=Branch.TitleMenu()
#
LightsMode="LightsMode_Attract"
PlayMusic=false
#
ResetGameState=true
BackGoesToStartScreen=true
AttractVolume=true
#
TimerMetricsGroup="MenuTimerNoSound"
TimerStealth=true
ForceTimer=true
TimerOnCommand=visible,false

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenMovie"
PrevScreen="ScreenCompany"
TimerMetricsGroup="MenuTimerNoSound"
TimerSeconds=34
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenWarning]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenCompany"
PrevScreen="ScreenWarning"
TimerSeconds=5
ForceTimer=true
TimerStealth=true

[ScreenMovie]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
PrevScreen="ScreenTitleMenu"
TimerSeconds=23
TimerMetricsGroup="MenuTimerNoSound"

[ScreenLogo]
Fallback="ScreenAttract"
NextScreen="ScreenDemonstration"
PlayMusic=true

TimerSeconds=30
ForceTimer=true
TimerStealth=true

[ScreenHowToPlay]
Class="ScreenHowToPlay"
Fallback="ScreenAttract"
NextScreen="ScreenDemonstration"
TimerSeconds=40
ForceTimer=true
TimerStealth=true
TimerMetricsGroup="MenuTimerNoSound"

UseLifeMeterBar=true
LifeMeterBarX=WideScale(SCREEN_CENTER_X-172,SCREEN_CENTER_X-237)
LifeMeterBarY=SCREEN_TOP+25
LifeMeterBarOnCommand=



UseCharacter=true
# XXX: not always Princess Zukin, just mostly.
CharacterName="5th Alice"
CharacterX=SCREEN_CENTER_X+176
CharacterY=-SCREEN_CENTER_Y+60
CharacterOnCommand=valign,1;diffusealpha,1;zoom,20

UsePad=false
PadX=SCREEN_CENTER_X-280
PadY=SCREEN_CENTER_Y+70
PadOnCommand=zoom,15;rotationy,180;sleep,2.0;linear,1.0;rotationy,360;zoom,20;addx,190;addy,80
#
PlayerX=WideScale(SCREEN_CENTER_X-175,SCREEN_CENTER_X-240)

NumW2s=2
NumMisses=6

[ScreenDemonstration]
NextScreen="ScreenWarning"
PrevScreen="ScreenLogo"
DiffucultiesToShow="easy,medium"

ShowStageDisplay=false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
PlayMusic=true
#
SecondsToShow=30
#######################################################################

[ScreenWithMenuElements]
ScreenInDelay=0
ScreenOutDelay=0

ShowHeader=false
HeaderX=
HeaderY=SCREEN_TOP
HeaderOffCommand=linear,0.1;y,-47
HeaderOnCommand=draworder,90;y,-47;linear,0.1;y,47

ShowFooter=false
FooterX=
FooterY=SCREEN_BOTTOM-26
FooterOnCommand=draworder,80;diffusealpha,0;linear,0.05;diffusealpha,1
FooterOffCommand=diffusealpha,1;linear,0.05;diffusealpha,0

ShowStyleIcon=false
StyleIconX=SCREEN_RIGHT-161
StyleIconY=SCREEN_TOP+29
StyleIconOffCommand=sleep,0;diffusealpha,0
StyleIconOnCommand=draworder,96;diffusealpha,0;sleep,0.792;diffusealpha,1

TimerMetricsGroup="MenuTimer"
TimerX=SCREEN_CENTER_X+360+30
TimerY=SCREEN_CENTER_Y-311
TimerOnCommand=draworder,90;visible,not GAMESTATE:IsEventMode();
TimerOffCommand=linear,0.25;addy,-150
TimerStealth=false

[MenuTimer]
WarningStart=10
WarningBeepStart=10
MaxStallSeconds=30
#
HurryUpTransition=5.5

Text1OnCommand=stopeffect;stoptweening;;x,-20;y,0;linear,0.25;sleep,0.75;queuecommand,"On";
Text1FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.floor(fSeconds/10); return ""..digit end

Text2OnCommand=stopeffect;stoptweening;;x,20;y,0;linear,0.25;sleep,0.75;queuecommand,"On";
Text2FormatFunction=function(fSeconds) fSeconds=math.min( 99, math.ceil(fSeconds) ); local digit = math.mod(fSeconds,10); return ""..digit end

FrameX=11
FrameY=25
FrameOnCommand=
#
Warning10Command=
Warning9Command=
Warning8Command=
Warning7Command=
Warning6Command=
Warning5Command=
Warning4Command=
Warning3Command=
Warning2Command=
Warning1Command=
Warning0Command=


[MenuTimerNoSound]
Fallback="MenuTimer"
HurryUpTransition=0
WarningBeepStart=0

####################################################################################
################################### OPTIONS ########################################
####################################################################################

[OptionsCursor]
LeftX=
LeftY=
LeftOnCommand=visible,false
MiddleX=
MiddleY=
MiddleOnCommand=visible,false
RightX=
RightY=
RightOnCommand=visible,false
CanGoLeftX=
CanGoLeftY=
CanGoLeftOnCommand=visible,false
CanGoRightX=
CanGoRightY=
CanGoRightOnCommand=visible,false

[ScreenOptions]
ShowFooter=true
ScreenDelayOut=0

NumRowsShown=5
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y((SCREEN_CENTER_Y-159)+(30*offsetFromCenter)) \
end

PageOnCommand=
PageOffCommand=
ContainerOnCommand=
ContainerOffCommand=
OptionRowNormalMetricsGroup="OptionRow"
CursorTweenSeconds=0.15

ExplanationP1X=SCREEN_CENTER_X-360
ExplanationP1Y=SCREEN_CENTER_Y+240
ExplanationP1OnCommand=zoom,0.53;wrapwidthpixels,430;horizalign,left;
ExplanationP1OffCommand=
ExplanationP2X=SCREEN_CENTER_X+50
ExplanationP2Y=SCREEN_CENTER_Y+240
ExplanationP2OnCommand=zoom,0.53;wrapwidthpixels,430;horizalign,left;
ExplanationP2OffCommand=
ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+200
ExplanationTogetherOnCommand=diffusealpha,1;wrapwidthpixels,850;
ExplanationTogetherOffCommand=diffusealpha,0;

[ScreenOptionsService]
LineNames="GameType,Appearance,UI,Arcade,Sync,GraphicSound,KeyConfig,Network,Profiles,Advanced,Reload,Credits"
ShowHeader=true
ScreenOutDelay=1
NumRowsShown=12
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y(SCREEN_CENTER_Y-244+26*positionIndex) end

ContainerOnCommand=y,100;diffusealpha,0;sleep,0.3;linear,0.1;diffusealpha,1
ContainerOffCommand=linear,0.1;diffusealpha,0

LineHighlightP1OnCommand=zoom,1;x,SCREEN_CENTER_X-200;draworder,2
LineHighlightP1ChangeCommand=visible,true
LineHighlightP1ChangeToExitCommand=visible,false
#
LineHighlightP2OnCommand=zoom,1;x,SCREEN_CENTER_X-200;draworder,2
LineHighlightP2ChangeCommand=visible,true
LineHighlightP2ChangeToExitCommand=visible,false

ExplanationTogetherX=SCREEN_CENTER_X+155
ExplanationTogetherY=SCREEN_CENTER_Y-100
ExplanationTogetherOnCommand=zoom,0.75;shadowlength,0;wrapwidthpixels,350/0.75;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

[OptionRow]
ShowUnderlines=false

TitleX=SCREEN_CENTER_X
TitleY=0

ItemsStartX=SCREEN_CENTER_X-10
ItemsEndX=SCREEN_CENTER_X+10
ItemsGapX=14
ItemsMinBaseZoom=0.65
ItemsLongRowP1X=SCREEN_CENTER_X-200
ItemsLongRowP2X=SCREEN_CENTER_X+200
ItemsLongRowSharedX=SCREEN_CENTER_X-200
ItemOnCommand=shadowlength,1;zoomy,0.54;zoomx,0.58;diffuse,color("#ffffff")
ItemGainFocusCommand=
ItemLoseFocusCommand=
TweenSeconds=0.08

TitleOnCommand=diffuse,color("#ffffff");zoomy,0.54;zoomx,0.58;
TitleGainFocusCommand=diffuse,color("#ff0000");zoomy,0.54;zoomx,0.58;
TitleLoseFocusCommand=diffuse,color("#ffffff");zoomy,0.54;zoomx,0.58;

ColorSelected=color("0.5,0.5,0.5,1")
ColorNotSelected=color("0.1,0.1,0.1,1")
ColorDisabled=color("0.5,0.5,0.5,1")

[OptionRowService]
Fallback = "OptionRow"

TitleX=SCREEN_CENTER_X-200
TitleOnCommand=zoom,0.75;horizalign,center
TitleGainFocusCommand=diffuse,color("#14FE00");zoom,0.75
TitleLoseFocusCommand=diffuse,color("0.6,0.6,0.6,1");zoom,0.75

ShowFrame=true
FrameX=SCREEN_CENTER_X-200

[OptionRowServiceChild]
Fallback="OptionRow"

TitleX=SCREEN_CENTER_X-118-200
TitleOnCommand=zoom,0.75;horizalign,center
TitleGainFocusCommand=diffuse,color("0.5,0.5,0.5,1");zoom,0.75
TitleLoseFocusCommand=diffuse,color("0.25,0.25,0.25,1");zoom,0.75

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("0.34,0.34,0.34,1")
ColorDisabled=color("0.34,0.34,0.34,1")

ItemsStartX=SCREEN_CENTER_X-10
ItemsEndX=SCREEN_CENTER_X+10
ItemsGapX=14
ItemsMinBaseZoom=0.65
ItemsLongRowSharedX=SCREEN_CENTER_X+120-200
ItemOnCommand=horizalign,center;zoom,0.75

ShowFrame=true
FrameX=SCREEN_CENTER_X-200
FrameOnCommand=

################################################################################
[ScreenOptionsServiceChild]
ShowFooter=true
ScreenOutDelay=1
WaitForChildrenBeforeTweeningOut=true

OptionRowNormalMetricsGroup="OptionRowServiceChild"

ContainerOnCommand=y,100;diffusealpha,0;sleep,0.3;linear,0.1;diffusealpha,1
ContainerOffCommand=linear,0.1;diffusealpha,0

ExplanationTogetherX=SCREEN_CENTER_X+275
ExplanationTogetherY=SCREEN_CENTER_Y-100
ExplanationTogetherOnCommand=zoom,0.75;shadowlength,0;wrapwidthpixels,350/0.75;cropright,1;linear,0.5;cropright,0
ExplanationTogetherOffCommand=stoptweening

NumRowsShown=12
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y(SCREEN_CENTER_Y-244+26*positionIndex) end

LineHighlightP1OnCommand=zoom,1;x,SCREEN_CENTER_X+120-203
LineHighlightP1ChangeCommand=visible,true
LineHighlightP1ChangeToExitCommand=visible,false
#
LineHighlightP2OnCommand=zoom,1;x,SCREEN_CENTER_X+120-203
LineHighlightP2ChangeCommand=visible,true
LineHighlightP2ChangeToExitCommand=visible,false

SeparateExitRow=false
SeparateExitRowY=SCREEN_BOTTOM-200

[OptionRowExit]
FrameOnCommand=visible,true;diffuse,Color("Red");zoomy,0.6
FrameX=SCREEN_CENTER_X

ItemsMinBaseZoom=1
ItemOnCommand=shadowlength,1;zoom,0.75;diffuse,Color("White")
ItemGainFocusCommand=diffuse,Color("Red")
ItemLoseFocusCommand=diffuse,Color("White")
ColorSelected=Color("Red")
ColorNotSelected=Color("White")
ColorDisabled=Color("Red")

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowExitPlayer]
Fallback="OptionRow"
FrameOnCommand=visible,false
TitleOnCommand=visible,false
ItemOnCommand=visible,false

###############################################################################
[OptionRowPlayer]
Fallback="OptionRow"
ShowUnderlines=false

TitleX=SCREEN_CENTER_X
TitleY=0
TitleOnCommand=draworder,100;zoom,0.8
TitleGainFocusCommand=diffuseshift;effectperiod,1;effectcolor1,0,1,0,1;effectcolor2,0.5,0.5,0.5,1;
TitleLoseFocusCommand=stopeffect;diffuse,color("#b8b6b7");strokecolor,color("#000000")

FrameX=SCREEN_CENTER_X
FrameY=
FrameGainFocusCommand=diffuse,color("1,1,1,1");
FrameLoseFocusCommand=stopeffect;diffuse,color("0.375,0.5,0,1")

ItemsStartX=SCREEN_CENTER_X
ItemsEndX=SCREEN_CENTER_X

ItemsGapX=14
ItemsMinBaseZoom=0.6
ItemsLongRowP1X=SCREEN_CENTER_X-310
ItemsLongRowP2X=SCREEN_CENTER_X+310

ItemsLongRowSharedX=SCREEN_CENTER_X
ItemOnCommand=uppercase,true;draworder,100;zoom,0.8;maxwidth,236
ItemOffCommand=
ItemGainFocusCommand=
ItemLoseFocusCommand=

TweenSeconds=0.05
ColorSelected=color("#0cff00")
ColorNotSelected=color("0.34,0.34,0.34,1")
ColorDisabled=color("0.34,0.34,0.34,1")

[ScreenPlayerOptions]
ShowFooter=true
ShowHeader=true
ShowHelp=false
WaitForChildrenBeforeTweeningOut=true

ShowExitRow=false

NavigationMode="normal"
InputMode="individual"
ForceAllPlayers=false
RepeatRate=12
RepeatDelay=0.25

NumRowsShown=18

RowInitCommand=
RowOnCommand=
RowOffCommand=
RowPositionTransformFunction=function(self,positionIndex,itemIndex,numItems) self:y(SCREEN_CENTER_Y-244+26*positionIndex) end

ContainerOnCommand=addx,-SCREEN_WIDTH;accelerate,0.5;addx,SCREEN_WIDTH
ContainerOffCommand=sleep,0.2;accelerate,0.5;addx,SCREEN_WIDTH

LineHighlightP1OnCommand=draworder,-2;addx,-156
LineHighlightP1ChangeCommand=visible,true
LineHighlightP1ChangeToExitCommand=visible,false
LineHighlightP2OnCommand=draworder,-2;addx,153
LineHighlightP2ChangeCommand=visible,true
LineHighlightP2ChangeToExitCommand=visible,false
OptionRowNormalMetricsGroup="OptionRowPlayer"
OptionRowExitMetricsGroup="OptionRowExitPlayer"

LineNames="1,2,3,4,5,6,7,10,8,9,11,12,13"
Line1="list,Speed"
Line2="list,Accel"
Line3="list,Appearance"
Line4="list,Turn"
Line5="list,Hide"
Line6="list,Scroll"
Line7="list,NoteSkins"
Line8="list,Freeze"
Line9="list,Jump"
Line10="list,Remove"
Line11="lua,OptionRowScreenFilter()"
Line12="list,Risky"
Line13="lua,OptionRowCharacters()"

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+142
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

# CodeNames="Start"
# CodeStart="Start"

# CodeNames="Start2,Up2,Down2"
# CodeStart2="Start"
# CodeUp2="Up"
# CodeDown2="Down"

[ScreenSongOptions]
Fallback="ScreenPlayerOptions"

[ScreenPlayerOptionsRestricted]
Fallback="ScreenPlayerOptions"
NextScreen="ScreenStageInformation"
LineNames="1,16,17,SF"
Line16="list,StepsLocked"
Line17="list,Characters"
LineSF="lua,OptionRowScreenFilter()"

[OptionRowExitPlayer]
Fallback="OptionRow"
FrameOnCommand=visible,false
TitleOnCommand=visible,false
ItemOnCommand=visible,false

[ScreenPlayerOptionsPopup]
Fallback="ScreenPlayerOptions"
ShowHeader=false
ShowFooter=false
TimerStealth=true
TimerSeconds=-1
ScreenOutDelay=1

##################################################################################
[ScreenOptionsMaster]
Fallback="ScreenOptions"
Class="ScreenOptionsMaster"
NoteSkinSortOrder=""

# ExitItem is an exit row with the "Exit" text as a menu item; ExitTitle
# uses the menu title.
ExitItem="1;together;SelectNone;showoneinrow"
ExitItemDefault=""
ExitItem,1="screen," .. Screen.Metric("NextScreen") .. ";name,ExitItem"

ExitTitle="1;together;SelectNone;showoneinrow"
ExitTitleDefault=""
ExitTitle,1="screen," .. Screen.Metric("NextScreen") .. ";name,ExitTitle"
# player options

Speed="7"
SpeedDefault="mod,1x,no randomspeed"
Speed,1="mod,0.50x;name,x0.50"
Speed,2="mod,1x;name,x1"
Speed,3="mod,1.5x;name,x1.5"
Speed,4="mod,2x;name,x2"
Speed,5="mod,3x;name,x3"
Speed,6="mod,5x;name,x5"
Speed,7="mod,8x;name,x8"

Accel="2"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang"
Accel,1="name,Off"
Accel,2="mod,boost;name,On"

Appearance="4"
AppearanceDefault="mod,no hidden,no sudden,no stealth,no blink,no randomvanish"
Appearance,1="name,Visible"
Appearance,2="mod,hidden;name,Hidden"
Appearance,3="mod,sudden;name,Sudden"
Appearance,4="mod,stealth;name,Stealth"

Turn="5"
TurnDefault="mod,no turn"
Turn,1="name,Off"
Turn,2="mod,mirror;name,Mirror"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"

Hide="2"
HideDefault="mod,no dark"
Hide,1="name,Off"
Hide,2="mod,dark;name,On"

Scroll="2"
ScrollDefault="mod,no reverse,no split,no alternate,no cross"
Scroll,1="name,Standard"
Scroll,2="mod,reverse;name,Reverse"

Freeze="2"
FreezeDefault="mod,no noholds"
Freeze,1="name,On"
Freeze,2="mod,noholds;name,Off"

Jump="2"
JumpDefault="mod,no nojumps"
Jump,1="name,On"
Jump,2="mod,nojumps;name,Off"

Remove="2"
RemoveDefault="mod,no little"
Remove,1="name,Off"
Remove,2="mod,little;name,On"

Judge="2"
JudgeDefault="mod,no blind"
Judge,1="mod,blind;name,Off"
Judge,2="name,On"

Risky="5"
RiskyDefault=""
Risky,1="mod,bar;mod,normal-drain;name,Normal"
Risky,2="mod,battery;mod,4 lives;mod,failimmediatecontinue;name,4 Lives"
Risky,3="mod,battery;mod,3 lives;mod,failimmediatecontinue;name,3 Lives"
Risky,4="mod,battery;mod,2 lives;mod,failimmediatecontinue;name,2 Lives"
Risky,5="mod,battery;mod,1 lives;mod,failimmediatecontinue;name,1 Life"

###################################################################################
[ScreenTitleJoin]
NextScreen=Branch.StartGame()
ChoiceNames="Game"
# coin message
CoinMessageX=SCREEN_CENTER_X
CoinMessageY=SCREEN_CENTER_Y+120
CoinMessageOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,0.3
CoinMessageOffCommand=

# premium message
PremiumX=SCREEN_CENTER_X
PremiumY=SCREEN_CENTER_Y+160
PremiumOnCommand=
PremiumOffCommand=

FreeplayX=SCREEN_CENTER_X
FreeplayY=SCREEN_CENTER_Y+120
FreeplayOnCommand=diffuseshift;effectcolor1,color("0.5,0.5,0.5,1");effectcolor2,color("1,1,1,1");effectperiod,1.5

# things from ScreenTitleMenu
ScrollerOnCommand=visible,false
SongsOnCommand=visible,false
VersionOnCommand=visible,false
WarningOnCommand=visible,false

[ScreenSelectEndless]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"

[ScreenSelectEndlessLevel]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"

[ScreenDebugStartEndless]
Class="ScreenWithMenuElements"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenEndlessManager"
Fallback="ScreenWithMenuElements"

[ScreenEndlessManager]
Class="ScreenWithMenuElements"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenGameplayEndless"
Fallback="ScreenWithMenuElements"

[ScreenTitleMenu]

PrevScreen="ScreenWarning"
NextScreen=Branch.StartGame()

ChoiceNames=SN3Debug and "Game,Edit,Options,Exit,GameOver" or "Game,Edit,Options,Exit"
ChoiceGame="applydefaultoptions;text,GAME MODE;screen,"..Branch.StartGame()
ChoiceEdit="text,EDIT MODE;screen,"..Branch.OptionsEdit()
ChoiceOptions="screen,ScreenOptionsService;text,OPTIONS"
ChoiceExit="screen,ScreenExit;text,EXIT"
ChoiceGameOver="screen,ScreenGameOver;text,GameOver"

ShowScroller=true
WrapScroller=false
LoopScroller=false

ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+160
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y((28)*(itemIndex-(numItems-1)/2)); end;
ScrollerOffCommand=

ScrollerSecondsPerItem=0.2
ScrollerNumItemsToDraw=20

VersionX=SCREEN_RIGHT-20
VersionY=SCREEN_TOP+20
VersionOnCommand=halign,1;diffuse,color("0.6,0.6,0.6,1");zoom,0.5;shadowlength,2

[ScreenShop]
Class="ScreenSplash"
Fallback="ScreenSplash"
PrevScreen=Branch.TitleMenu()
ForceTimer=false
TimerStealth=true
TimerSeconds=9000

[ScreenMissionSelect]
Class="ScreenSplash"
Fallback="ScreenSplash"
PrevScreen=Branch.TitleMenu()
ForceTimer=false
TimerStealth=true
TimerSeconds=9000

[ScreenCaution]
Class="ScreenSplash"
Fallback="ScreenSplash"
PrepareScreens="ScreenSelectGameMode","ScreenSelectStyle","ScreenSelectMusic"
NextScreen="ScreenProfileLoad"
PrevScreen=Branch.TitleMenu()
AllowStartToSkip=true

ForceTimer=true
TimerStealth=true
TimerSeconds=3.5
TimerOnCommand=draworder,6;visible,false

[ScreenSelectStyle]
ShowHeader=true
ShowFooter=true

ChoiceNames=StyleChoices()
DefaultChoice="1"

Choice1="style,single;name,Single;screen,"..Branch.AfterSelectStyle()
Choice2="style,versus;name,Versus;screen,"..Branch.AfterSelectStyle()
Choice3="style,double;name,Double;screen,"..Branch.AfterSelectStyle()

FOV=90

PerChoiceScrollElement=true
PerChoiceIconElement=true

ShowScroller=true
WrapScroller=true
LoopScroller=true
WrapCursor=true
ShowIcon=false
UseIconMetrics=true

ScrollerSecondsPerItem=0.3
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y

ScrollerOnCommand=zbuffer,true;fov,80;draworder,0;zoom,0.9
ScrollerOffCommand=
ScrollerTransform=function(self,ofs,i,n) \
	local t=ofs*math.pi*2/n; \
	self:x(math.sin(t)*650); \
	self:y(math.cos(t)*200-100); \
	self:z(math.cos(t)*300-800); \
end


#
IconGainFocusCommand=stoptweening;bounceend,0.125;diffusealpha,1;zoomy,1;draworder,101
IconLoseFocusCommand=stoptweening;decelerate,0.25;diffusealpha,0;zoomy,0;draworder,101

IconChoiceSingleX=
IconChoiceSingleY=
IconChoiceSingleOnCommand=
IconChoiceSingleOffCommand=

IconChoiceDoubleX=
IconChoiceDoubleY=
IconChoiceDoubleOnCommand=
IconChoiceDoubleOffCommand=

IconChoiceVersusX=
IconChoiceVersusY=
IconChoiceVersusOnCommand=
IconChoiceVersusOffCommand=

[ScreenSelectGameMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeader=true
ShowFooter=true
ShowStyleIcon=true
ShowHelp=false
TimerSeconds=20

# Choice list:
# Arcade	Beginner, Easy, Medium, Hard, Nonstop, Oni
# Home		Beginner, Easy, Medium, Hard, Nonstop, Oni, Endless, Rave
ChoiceNames="1,2,3"
DefaultChoice="Happy"
NumChoicesOnPage1=3

Choice1="name,Happy;playmode,regular;lua,EnableStarterGameplayJunk;difficulty,beginner;screen,ScreenSelectStyle"
Choice2="name,Pro;playmode,regular;difficulty,easy;screen,ScreenSelectStyle"
Choice3="name,2MIX;playmode,regular;lua,Enable2ndMIXGameplayJunk;screen,Screen2ndMIXLogo"

UpdateOnMesage=""

PerChoiceScrollElement=false
PerChoiceIconElement=false
#
ShowScroller=true
WrapScroller=true
LoopScroller=true
WrapCursor=true
ShowIcon=false
UseIconMetrics=false

ScrollerSecondsPerItem=0.3
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y

ScrollerOnCommand=zbuffer,true;fov,90;draworder,0;
ScrollerOffCommand=
ScrollerTransform=function(self,ofs,i,n) \
	local t=ofs*math.pi*2/n; \
	self:x(math.sin(t)*680); \
	self:y(math.cos(t)*200-160); \
	self:z(math.cos(t)*300-300); \
end

SharedSelection=true

# xxx: all positions need fixing

#- page 1 -#
IconChoiceBeginnerX=SCREEN_CENTER_X
IconChoiceBeginnerY=SCREEN_BOTTOM-50
IconChoiceBeginnerOnCommand=draworder,101
IconChoiceBeginnerSwitchToPage1Command=
IconChoiceBeginnerSwitchToPage2Command=
#--#
IconChoiceNormalX=SCREEN_CENTER_X
IconChoiceNormalY=SCREEN_BOTTOM-50
IconChoiceNormalOnCommand=draworder,101
IconChoiceNormalSwitchToPage1Command=
IconChoiceNormalSwitchToPage2Command=
#--#
IconChoiceOniX=SCREEN_CENTER_X
IconChoiceOniY=SCREEN_CENTER_Y
IconChoiceOniOnCommand=draworder,101
IconChoiceOniSwitchToPage1Command=
IconChoiceOniSwitchToPage2Command=

[ScreenSelectPlayMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
TimerSeconds=20
ShowHeader=true
ShowFooter=true
ShowStyleIcon=false
ShowHelp=false

NumChoicesOnPage1=2

DefaultChoice="Music"
ChoiceNames="1,2"
Choice1="name,Music;screen,ScreenSelectMusic"
Choice2="applydefaultoptions;name,Oni;text,Extended;playmode,nonstop;mod,1x;screen,ScreenSelectCourse;setenv,sMode,Extended"

UpdateOnMesage=""

PerChoiceIconElement=false

ShowScroller=false
WrapScroller=true
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y-60
ScrollerOnCommand=SetFastCatchup,true;
ScrollerOffCommand=decelerate,0.8;y,SCREEN_CENTER_Y;sleep,2;linear,0.1;zoomy,0
#
ShowIcon=true
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;glowshift;decelerate,0.125;zoom,1;
IconLoseFocusCommand=stoptweening;stopeffect;decelerate,0.125;zoom,0.6;
# IconMinZoom=0.5
# IconBaseZoom=0.6
#
#
IconChoiceMusicX=SCREEN_CENTER_X-140
IconChoiceMusicY=SCREEN_CENTER_Y-50
IconChoiceMusicOnCommand=addx,600;linear,0.20;addx,-600
IconChoiceMusicOffCommand=linear,0.1175;zoomy,0;addy,60
IconChoiceMusicGainFocusCommand=stoptweening;decelerate,0.125;zoom,1;diffuse,1,1,1,1;
IconChoiceMusicLoseFocusCommand=stoptweening;decelerate,0.125;zoom,0.77;diffuse,0.5,0.5,0.5,1;

IconChoiceOniX=SCREEN_CENTER_X+140
IconChoiceOniY=SCREEN_CENTER_Y-50
IconChoiceOniOnCommand=addx,-600;linear,0.20;addx,600
IconChoiceOniOffCommand=linear,0.1175;zoomy,0;addy,60
IconChoiceOniGainFocusCommand=stoptweening;decelerate,0.125;zoom,1;diffuse,1,1,1,1;
IconChoiceOniLoseFocusCommand=stoptweening;decelerate,0.125;zoom,0.77;diffuse,0.5,0.5,0.5,1;

[ScreenSelectPlayCourseMode]
#PersistScreens="ScreenSelectPlayCourseMode,ScreenSelectCourse"
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen=Branch.GetGameInformationScreen
PrevScreen=Branch.TitleMenu()
TimerSeconds=40
ShowHeader=true
ShowFooter=true
#
ScreenOutDelay=3
#
DefaultChoice="Extended"
ChoiceNames="Extended,Oni"
#
PerChoiceIconElement=false
#
ShowScroller=true
WrapScroller=true
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y
ScrollerOnCommand=SetFastCatchup,true;zoom,0.8
ScrollerOffCommand=
#
ShowBackgroundFrame=true
BackgroundFrameX=SCREEN_CENTER_X
BackgroundFrameY=SCREEN_CENTER_Y-60
BackgroundFrameOnCommand=diffuse,Color("Black");diffusealpha,0.7
BackgroundFrameOffCommand=decelerate,0.8;y,SCREEN_CENTER_Y;sleep,2;linear,0.1;zoomy,0
#
ShowIcon=true
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;stopeffect;decelerate,0.125;zoom,0.5;
IconLoseFocusCommand=stoptweening;stopeffect;decelerate,0.125;zoom,0.3;
#
IconChoiceExtendedX=SCREEN_CENTER_X-120
IconChoiceExtendedY=SCREEN_CENTER_Y-58
IconChoiceExtendedOnCommand=zoom,0;bounceend,0.35;zoom,1
IconChoiceExtendedOffCommand=linear,0.1175;zoomy,0
#
IconChoiceOniX=SCREEN_CENTER_X+120
IconChoiceOniY=SCREEN_CENTER_Y-58
IconChoiceOniOnCommand=zoom,0;bounceend,0.35;zoom,1
IconChoiceOniOffCommand=linear,0.1175;zoomy,0

ChoiceExtended="applydefaultoptions;name,Extended;text,Extended;playmode,nonstop;screen,ScreenSelectCourse;setenv,sMode,Extended"
ChoiceOni="applydefaultoptions;name,Oni;text,Oni;playmode,oni;screen,ScreenSelectCourse;setenv,sMode,Oni"

[ScreenSelectPlayModeMulti]
Class="ScreenSelectMaster"
Fallback="ScreenSelectPlayMode"
ChoiceNames="1,2,3,4"

[ScreenSelectMusicStarter]
Fallback="ScreenSelectMusic"
DefaultSort="Preferred"
MusicWheelType="StarterWheel"

[StarterWheel]
Fallback="MusicWheel"
SortOrders={ "SortOrder_Preferred" }

[ScreenSelectMusic]
TimerSeconds=90

StageDisplayNumberOffset=1

IdleCommentSeconds=20
HardCommentMeter=10

SampleMusicLoops=true
SampleMusicFallbackFadeInSeconds=1
SampleMusicFadeOutSeconds=1.5

SampleMusicDelay=1

ShowHeader=true

ShowStyleIcon=false
ShowHelp=false
DoRouletteOnMenuTimer=true

ShowFooter=true

ShowNewSong=not GAMESTATE:IsCourseMode()
NewSongX=NewSongPosX()
NewSongY=SCREEN_CENTER_Y-41
NewSongOnCommand=draworder,99;playcommand,"Set"
NewSongOffCommand=bouncebegin,0.135;visible,false
NewSongShowCommand=finishtweening;visible,true
NewSongHideCommand=finishtweening;visible,false

#MusicWheel
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=SCREEN_CENTER_Y
MusicWheelOnCommand=%function(self) \
	self:zoom(1); \
	self:draworder(-19); \
	self:fov(100); \
	self:vanishpoint(SCREEN_CENTER_X,SCREEN_CENTER_Y-90); \
	self:SetDrawByZPosition(true);\
end;

#Banner
BannerX=
BannerY=
BannerOnCommand=visible,false

#StageDisplay
ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_TOP+60
StageDisplayOnCommand=draworder,105;fov,90;zoom,0.9;zoomy,0;sleep,0.35;smooth,0.35;zoomy,1.1
StageDisplayOffCommand=linear,0.05;zoomy,0;

#BPMDisplay
ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X-194
BPMDisplayY=SCREEN_CENTER_Y+84
BPMDisplayOnCommand=finishtweening;maxwidth,128;zoom,0.8;draworder,105;diffusealpha,0;linear,0.35;diffusealpha,1
#
#SortDisplay
ShowSortDisplay=true
SortDisplayX=WideScale(SCREEN_CENTER_X+240,SCREEN_CENTER_X+120)
SortDisplayY=SCREEN_TOP+30
SortDisplayOnCommand=draworder,89;diffusealpha,0;sleep,0.75;diffusealpha,1
SortDisplayOffCommand=accelerate,0.396;addx,380

#SongOptions
# Done in Lua
ShowSongOptions=true
SongOptionsX=SCREEN_LEFT+20
SongOptionsY=SCREEN_CENTER_Y-60
SongOptionsOnCommand=halign,0;zoom,0.5;shadowlength,2;diffusealpha,0;linear,0.5;diffusealpha,1
SongOptionsOffCommand=linear,0.5;diffusealpha,0

#Balloon
BalloonX=SCREEN_LEFT+118
BalloonY=SCREEN_CENTER_Y-106
BalloonOnCommand=halign,0;draworder,99;zoomy,0;sleep,0.264;sleep,0.558;decelerate,0.231;zoomy,1;bob;effectmagnitude,0,5,0
BalloonOffCommand=accelerate,0.231;zoomy,0
BalloonShowCommand=diffusealpha,1
BalloonHideCommand=diffusealpha,0

#Score
ScoreP1X=
ScoreP1Y=
ScoreP1OnCommand=visible,false
ScoreP2X=
ScoreP2Y=
ScoreP2OnCommand=visible,false

ShowSortOrderFrame=true
SortOrderFrameX=SCREEN_CENTER_X
SortOrderFrameY=SCREEN_TOP-50
SortOrderFrameOnCommand=draworder,105;shadowlength,1;visible,false
SortOrderFrameSortCommand=
SortOrderFrameSongChosenCommand=linear,0.25;diffusealpha,0;
SortOrderFrameOffCommand=bouncebegin,0.15;zoomy,0;
#
ShowSortOrder=true
SortOrderX=SCREEN_CENTER_X
SortOrderY=-40
SortOrderOnCommand=y,-40;draworder,105;diffuse,Color("Green");diffusebottomedge,color("0.3,1,0.3,1");strokecolor,color("0.0,0.5,0.0,1");zoomy,0.4;zoomx,0.5;maxwidth,114/0.675;linear,0.3;y,SCREEN_TOP+6;visible,false
SortOrderSortCommand=finishtweening;zoom,0.4*1.11;diffuse,Color("Green");diffusebottomedge,color("0.3,1,0.3,1");decelerate,0.5;zoomy,0.4;zoomx,0.5;diffuse,Color("Green");diffusebottomedge,color("0.3,1,0.3,1");
SortOrderSongChosenCommand=linear,0.05;diffusealpha,0;
SortOrderOffCommand=bouncebegin,0.05;zoomy,0;

CodeNames="SortList,SortList2,SortList3"
CodeSortList="MenuLeft-MenuRight"
CodeSortList2="MenuLeft-MenuRight"
CodeSortList3=PREFSMAN:GetPreference("OnlyDedicatedMenuButtons") == false and "@MenuLeft-@MenuRight-Start" or ""

MusicWheelCodeMessageCommand=%function(self, params) \
	if not GAMESTATE:IsCourseMode() and (params.Name=="SortList" or params.Name=="SortList2" or params.Name=="SortList3") then \
		SCREENMAN:AddNewScreenToTop("ScreenSortList"); \
	end; \
end;
MusicWheelSortMessageCommand=%function(self, params) \
	self:ChangeSort('SortOrder_'..params.order) \
end;

[ScreenSortList]
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectMusic"
PrevScreen="ScreenSelectMusic"
HeaderOnCommand=visible,false
FooterOnCommand=visible,false
HelpOnCommand=visible,false
ShowCreditDisplay=false
PlayMusic=true

[MusicWheel]
FadeSeconds=1
ShowRandom=true
ShowRoulette=false
ShowPortal=false
SwitchSeconds=0.125

RouletteColor=color("#FFFFFF")
RandomColor=color("#FFFFFF")

LockedInitialVelocity=9


# 3d music wheel
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	function GetZoom(offsetFromCenter) \
		if offsetFromCenter >= 1 then \
			return 0.5; \
		end \
		if offsetFromCenter <= -1 then \
			return 0.5; \
		end \
		if math.abs(offsetFromCenter) > 0 and math.abs(offsetFromCenter) <1 then \
			return (10.0-math.abs(offsetFromCenter)*5)/10; \
		else \
			return 1; \
		end; \
	end; \
	function GetDistence(offsetFromCenter) \
		if offsetFromCenter >= 1 then \
			return offsetFromCenter*90+84; \
		end \
		if offsetFromCenter <= -1 then \
			return offsetFromCenter*90-84; \
		end \
		if math.abs(offsetFromCenter) > 0.0001 and math.abs(offsetFromCenter) <1 then \
			return 90*offsetFromCenter + 84*offsetFromCenter \
		else \
			return 0; \
		end; \
	end; \
	function GetRotationY(offsetFromCenter) \
		if offsetFromCenter > 0.9 then \
			return 64+(offsetFromCenter-0.9)*9.8; \
		elseif offsetFromCenter < -0.9 then \
			return -64+(offsetFromCenter+0.9)*9.8; \
		else \
			return offsetFromCenter*64/0.9; \
		end; \
	end; \
	function GetRotationZ(offsetFromCenter) \
		if offsetFromCenter < 0 then \
			return -offsetFromCenter*0.5; \
		else \
			return 0; \
		end; \
	end; \
	function GetRotationX(offsetFromCenter) \
		if math.abs(offsetFromCenter) < 0.1 then \
			return 0; \
		else \
			return 4; \
		end; \
	end; \
	self:linear(5.8); \
	self:x( GetDistence(offsetFromCenter) ); \
	self:y( -120 ); \
	self:z(1-math.abs(offsetFromCenter)); \
	self:draworder( math.abs(offsetFromCenter)*10 ); \
	self:zoom( GetZoom(offsetFromCenter) ); \
	self:rotationx( 0 );\
	self:rotationy( GetRotationY(offsetFromCenter) ); \
	self:rotationz( 0 ); \
	end;

NumWheelItems=13


MusicWheelSortOnCommand=fov,80;vanishpoint,SCREEN_CENTER_X;
MusicWheelSortOffCommand=fov,80;
MusicWheelItemSortOnCommand=zoom,0;decelerate,0.2;zoom,0.5
MusicWheelItemSortOffCommand=accelerate,0.2;zoom,0
WheelItemOnDelayOffset=0.04
WheelItemOffDelayOffset=0
WheelItemLockedColor=Color("Black")
ScrollBarHeight=300
ScrollBarOnCommand=visible,false
HighlightOnCommand=

NumSectionColors=1
SectionColor1=color("#FFFF20")

SortMenuColor=color("#FFFF20")

UseSectionsWithPreferredGroup=false

# xxx: ChallengeMeter,Genre,Length,Recent aren't in foonmix, but I'd like them
# to stick around anyways.
SortOrders={ "SortOrder_Group", "SortOrder_Title", "SortOrder_BPM", "SortOrder_EasyMeter", "SortOrder_TopGrades", "SortOrder_Popularity", }
ModeMenuChoiceNames="Group,Title,Bpm,BeginnerMeter,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,TopGrades,Popularity,Genre"

ChoicePreferred="sort,Preferred"
ChoiceGroup="sort,Group"
ChoiceTitle="sort,Title"
ChoiceBpm="sort,BPM"
ChoicePopularity="sort,Popularity"
ChoiceTopGrades="sort,TopGrades"
ChoiceArtist="sort,Artist"
ChoiceGenre="sort,Genre"
ChoiceBeginnerMeter="sort,BeginnerMeter"
ChoiceEasyMeter="sort,EasyMeter"
ChoiceMediumMeter="sort,MediumMeter"
ChoiceHardMeter="sort,HardMeter"
ChoiceChallengeMeter="sort,ChallengeMeter"
ChoiceDoubleEasyMeter="sort,DoubleEasyMeter"
ChoiceDoubleMediumMeter="sort,DoubleMediumMeter"
ChoiceDoubleHardMeter="sort,DoubleHardMeter"
ChoiceDoubleChallengeMeter="sort,DoubleChallengeMeter"
ChoiceLength="sort,Length"
ChoiceRecent="sort,Recent"
ChoiceNormalMode="playmode,regular"
ChoiceBattleMode="playmode,battle"

[CourseWheel]
ShowRandom=false
ShowRoulette=false
ShowPortal=false

NumWheelItems=5
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:setsize(400,300)\
	self:x( (offsetFromCenter/math.pi)*-25 ); \
	self:y(offsetFromCenter * _screen.h/15) \
end

[MusicWheelItem]
WheelNotifyIconX=-155
WheelNotifyIconY=0
WheelNotifyIconOnCommand=

SongNameX=
SongNameY=72
SongNameOnCommand=

SectionCollapsedX=9000
SectionCollapsedOnCommand=zoom,1.0;
SectionExpandedX=9000
SectionExpandedOnCommand=zoom,1.0;

ShowSectionCount=false
SectionCountX=999
SectionCountY=0
SectionCountOnCommand=halign,1;zoom,0.75

RouletteX=-130
RouletteY=-9000
RouletteOnCommand=visible,false

RandomX=-130
RandomY=-9000
RandomOnCommand=visible,false

CourseX=
CourseY=72
CourseOnCommand=

SortX=9000
SortY=0
SortOnCommand=shadowlength,0;zoom,1.4;halign,0

GradeP1X=0
GradeP1Y=9999
GradeP2X=0
GradeP2Y=9999

[TextBanner]
TitleOnCommand=visible,false
SubtitleOnCommand=visible,false
ArtistOnCommand=visible,false
ArtistPrependString=""

[TextBannerGameplay]
TitleOnCommand=halign,0;wrapwidthpixels,2^24;strokecolor,color("0,0,0,1")
SubtitleOnCommand=halign,0;wrapwidthpixels,2^24;strokecolor,color("0,0,0,1")
ArtistOnCommand=halign,0;wrapwidthpixels,2^24;strokecolor,color("0,0,0,1")
ArtistPrependString=""
AfterSetCommand=%TextBannerGameplayAfterSet

[WheelNotifyIcon]
ShowTraining=true

[BPMDisplay]
NoBpmText="000"
ShowQMarksInRandomCycle = false

Cycle=1
SetNoBpmCommand=diffuse,color("1,1,1,1")
SetNormalCommand=diffuse,color("1,1,1,1")
SetChangeCommand=diffuse,color("1,1,1,1")
SetRandomCommand=diffuse,color("1,0,0,1")
SetExtraCommand=diffuse,color("1,0,0,1")

[DifficultyList]
ItemsSpacingY=24
NumShownItems=8

[StepsDisplayListRow]
# TODO: Make this use DifficultyList?
CapitalizeDifficultyNames=false
NumShownItems=5
ItemsSpacingY=24
MoveCommand=decelerate,0.05

FrameX=

FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(ColorMidTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=20
MaxTicks=20
#
ShowMeter=true
MeterX=56
MeterOnCommand=shadowlength,1;zoom,0.65;textglowmode,'TextGlowMode_Inner';
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 10 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=false
DescriptionX=ThemePrefs.Get("AutoSetStyle") and (-64-8+20) or (-64-8)
DescriptionOnCommand=shadowlength,1;horizalign,left;zoom,0.65;maxwidth,128+8-20;uppercase,true;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty and param.CustomDifficulty ~= "" then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=true
AutogenX=0
AutogenY=0
AutogenOnCommand=diffuseshift;effectcolor1,Color.Alpha( Color("Green") , 0.5 );effectcolor2,ColorMidTone( Color("Green") );
#AutogenOnCommand=zoom,0.75;
#
ShowStepsType=ThemePrefs.Get("AutoSetStyle")
StepsTypeX=-64-8
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeSetCommand=


[GrooveRadar]
#we don't use the groove radar labels but these metrics aren't provided by fallback -FlameyBoy
#the labels coords change where the corners of the radar values are -Inorizushi
#Stream
Label1X=8
Label1Y=-98
#Voltage
Label2X=-101
Label2Y=-30
#Air
Label3X=-80
Label3Y=72
#Frezze
Label4X=104
Label4Y=72
#Chaos
Label5X=116
Label5Y=-30

RadarValueMapP1OnCommand=diffuse,PlayerColor(PLAYER_1);glowshift;effectcolor1,PlayerColor(PLAYER_1);effectcolor2,color "#FFFFFF"
RadarValueMapP2OnCommand=diffuse,PlayerColor(PLAYER_2);glowshift;effectcolor1,PlayerColor(PLAYER_2);effectcolor2,color "#FFFFFF"
EdgeWidth=0
CenterAlpha=0

[ModIcon]
TextOnCommand=zoom,0.5;maxwidth,70;uppercase,true;shadowlength,0;
CropTextToWidth=32
StopWords="1X,default,Overhead,Off,Normal,nomines"

[ModIconSelectMusic]
Fallback="ModIcon"
TextX=
TextY=
TextOnCommand=zoom,0.8;maxwidth,14;uppercase,true

[ModIconRowSelectMusic]
Fallback="ModIconRow"
NumModIcons=7
SpacingX=80
SpacingY=0
ModIconMetricsGroup="ModIconSelectMusic"

[ModIconRowSelectMusicP1]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP1"

[ModIconRowSelectMusicP2]
Fallback="ModIconRowSelectMusic"
ModIconMetricsGroup="ModIconSelectMusicP2"

[ModIconSelectMusicP1]
Fallback="ModIconSelectMusic"

[ModIconSelectMusicP2]
Fallback="ModIconSelectMusic"

[ScreenSelectCourse]
Fallback="ScreenSelectMusic"
ShowSortDisplay=false

MusicWheelType="MusicWheel"

ExplanationX=SCREEN_RIGHT-160
ExplanationY=SCREEN_CENTER_Y+80
ExplanationOnCommand=visible,false
ExplanationOffCommand=

ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

NumCourseStagesX=SCREEN_CENTER_X-9999
NumCourseStagesY=SCREEN_CENTER_Y-9999
NumCourseStagesOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
NumCourseStagesOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseTimeX=SCREEN_CENTER_X-9999
CourseTimeY=SCREEN_CENTER_Y-9999
CourseTimeOnCommand=draworder,82;shadowlength,0;addx,-SCREEN_WIDTH;bounceend,0.5;addx,SCREEN_WIDTH
CourseTimeOffCommand=bouncebegin,0.5;addx,-SCREEN_WIDTH

CourseContentsListX=SCREEN_LEFT+140
CourseContentsListY=SCREEN_CENTER_Y
CourseContentsListOnCommand=draworder,1;halign,0;valign,0;cropbottom,0.55;addx,-400;sleep,0.264;decelerate,0.52;addx,400;sleep,0.1;linear,0;cropbottom,0
CourseContentsListOffCommand=sleep,0.033;accelerate,0.33;addx,-400
CourseContentsListShowCommand=bouncebegin,0.3;zoomy,1
CourseContentsListHideCommand=linear,0.3;zoomy,0

[ScreenGameplay]
CodeNames="SpeedUp,SpeedDown"
CodeSpeedUp="@Select-Up"
CodeSpeedDown="@Select-Down"

StartGivesUp=true
ShowScoreInRave=false
AllowCenter1Player=true

# what the hell is the point of this metric anyways
StopCourseEarly=false

# this value should match 3.9's ScreenGameplay.cpp:
MinSecondsToStepNextSong=2.0

# in 3.9 this is:
# (gameplay in length) + (gameplay ready length) + (gameplay go length) + 2
MinSecondsToStep=5.496
# in 3.9 this is the start of gameplay ready.
MinSecondsToMusic=1.55

# used exclusively in ScreenGameplay::GetMusicEndTiming
OutTransitionLength=5
# how long the course "next song" transition takes.
CourseTransitionLength=6

# unsure.
MusicFadeOutSeconds=0.5
BeginFailedDelay=1.0

ShowCreditDisplay=true

PlayerP1OnCommand=
PlayerP1OffCommand=
PlayerP2OnCommand=
PlayerP2OffCommand=

PlayerP1OnePlayerOneSideX=ScreenGameplay_P1X()
PlayerP2OnePlayerOneSideX=ScreenGameplay_P2X()
PlayerP1TwoPlayersTwoSidesX=ScreenGameplay_P1X()
PlayerP2TwoPlayersTwoSidesX=ScreenGameplay_P2X()
PlayerP1TwoPlayersOneSideX=ScreenGameplay_P1X()
PlayerP2TwoPlayersOneSideX=ScreenGameplay_P2X()

PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP1TwoPlayersSharedSidesX=SCREEN_CENTER_X
PlayerP2TwoPlayersSharedSidesX=SCREEN_CENTER_X

ShowStageFrame=true
StageFrameX=SCREEN_CENTER_X
StageFrameY=SCREEN_TOP+32
StageFrameOnCommand=draworder,1
StageFrameOffCommand=

ShowLifeMeterForDisabledPlayers=false
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_TOP+36
LifeFrameOnCommand=draworder,98;
LifeFrameOffCommand=
#--#
LifeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")+10
LifeP1Y=SCREEN_TOP+35
LifeP1OnCommand=draworder,2
LifeP1OffCommand=
LifeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")-10
LifeP2Y=SCREEN_TOP+35
LifeP2OnCommand=draworder,2;zoomx,-1
LifeP2OffCommand=

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+24
CombinedLifeOnCommand=draworder,1
CombinedLifeOffCommand=

ToastyDisplayP1X=
ToastyDisplayP1Y=
ToastyDisplayP1OnCommand=
ToastyDisplayP1OffCommand=
#
ToastyDisplayP2X=
ToastyDisplayP2Y=
ToastyDisplayP2OnCommand=
ToastyDisplayP2OffCommand=


ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_TOP+45
StageDisplayOnCommand=zoomy,1;zoomx,1;draworder,2
StageDisplayOffCommand=
StageDisplayUseShortString=true

PlayerOptionsP1X=SCREEN_CENTER_X-80
PlayerOptionsP1Y=SCREEN_BOTTOM-34
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=SCREEN_CENTER_X-80
PlayerOptionsP2Y=SCREEN_BOTTOM-34
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=
StopWords="1X,default,Overhead,Off"

ShowScoreFrame=true
ScoreFrameX=
ScoreFrameY=SCREEN_BOTTOM-42
ScoreFrameOnCommand=draworder,2
ScoreFrameOffCommand=
#--#
ScoreP1X=SCREEN_CENTER_X-450
ScoreP1Y=SCREEN_CENTER_Y+297
ScoreP1OnCommand=draworder,2;zoomy,0.9;zoomx,1.5
ScoreP1OffCommand=
ScoreP2X=SCREEN_CENTER_X+450
ScoreP2Y=SCREEN_CENTER_Y+297
ScoreP2OnCommand=draworder,2;zoomy,0.9;zoomx,1.5
ScoreP2OffCommand=
#--#

StepsDisplayP1X=SCREEN_LEFT+145
# StepsDisplayP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
StepsDisplayP1Y=SCREEN_CENTER_Y+276
StepsDisplayP1SetReverseCommand=y,SCREEN_CENTER_Y-301.5
StepsDisplayP1SetNoReverseCommand=y,SCREEN_CENTER_Y+276
StepsDisplayP1OnCommand=draworder,110;zoomx,1.1;zoomy,0.95
StepsDisplayP1ShowCommand=
StepsDisplayP1HideCommand=linear,0.5;zoomy,0
StepsDisplayP1OffCommand=
StepsDisplayP2X=SCREEN_RIGHT-145
# StepsDisplayP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
StepsDisplayP2Y=SCREEN_CENTER_Y+275
StepsDisplayP2SetReverseCommand=y,SCREEN_CENTER_Y-301.5
StepsDisplayP2SetNoReverseCommand=y,SCREEN_CENTER_Y+275
StepsDisplayP2OnCommand=draworder,110;zoomx,1.1;zoomy,0.95
StepsDisplayP2ShowCommand=
StepsDisplayP2HideCommand=linear,0.5;zoomy,0
StepsDisplayP2OffCommand=

LyricDisplaySetNoReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+160
LyricDisplaySetReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-160
LyricDisplaySetOneReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-120
LyricDisplayDefaultColor=color("0,1,0,1");

ActiveAttackListP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ActiveAttackListP1Y=
ActiveAttackListP1OnCommand=visible,false
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ActiveAttackListP2Y=
ActiveAttackListP2OnCommand=visible,false
ActiveAttackListP2OffCommand=

SecondaryScoreP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
SecondaryScoreP1Y=SCREEN_CENTER_Y
SecondaryScoreP1OnCommand=draworder,99;zoom,1;diffuse,color("#F9FF20");
SecondaryScoreP1OffCommand=
SecondaryScoreP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
SecondaryScoreP2Y=SCREEN_CENTER_Y
SecondaryScoreP2OnCommand=draworder,99;zoom,1;diffuse,color("#F9FF20");
SecondaryScoreP2OffCommand=

[ScreenGameplayEndless]
Fallback="ScreenGameplay"
PrevScreen="ScreenTitleMenu"
NextScreen="ScreenEndlessManager"

[ScoreDisplayRave]
MeterP1OnCommand=draworder,-1;y,-157;x,WideScale(150,215);diffuseshift;effectcolor1,1,1,1,1;effectcolor2,0.6,0.6,0.6,1;effectperiod,0.5;rotationz,90;rotationx,-180
MeterP2OnCommand=draworder,-1;y,-157;x,WideScale(-150,-215);diffuseshift;effectcolor1,1,1,1,1;effectcolor2,0.6,0.6,0.6,1;effectperiod,0.5;rotationz,-90
LevelP1OnCommand=draworder,99;diffuseshift;effectcolor1,1,1,1,1;effectcolor2,0.7,0.7,0.7,1;effectperiod,0.333;addy,205.5;addx,-80
LevelP2OnCommand=draworder,99;diffuseshift;effectcolor1,1,1,1,1;effectcolor2,0.7,0.7,0.7,1;effectperiod,0.333;addy,205.5;addx,120


[StepsDisplay]
#i hate stepsdisplay -FlameyBoy
ShowDescription=false

[StepsDisplayGameplay]
ShowFrame=true
FrameX=
FrameOnCommand=draworder,-1
FrameSetCommand=
#
ShowTicks=false
#
ShowMeter=true
ZeroMeterString="?"
MeterX=56
MeterY=0
MeterOnCommand=shadowlength,1;textglowmode,'TextGlowMode_Inner';visible,false
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:zoom(0.8); \
		else \
			self:zoom(1); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=0
DescriptionY=GetUserPrefB("UserPrefAutoSetStyle") and -5 or 0
DescriptionOnCommand=uppercase,true;zoom,0.8;maxwidth,512+32;horizalign,center
DescriptionOffCommand=
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=false
#
ShowStepsType=GetUserPrefB("UserPrefAutoSetStyle")
StepsTypeX=-20
StepsTypeY=7
StepsTypeOnCommand=zoom,1

[StepsDisplayEvaluation]
Fallback="StepsDisplay"
ShowTicks=false
ShowMeter=false
ZeroMeterString="?"
MeterX=0
MeterY=8
#q
MeterOnCommand=shadowlength,0;textglowmode,'TextGlowMode_Inner';zoom,0.35
;diffuse,color("#000000");
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(color("#ffffff")) \
	end; \
	if GAMESTATE:IsCourseMode() then\
		self:diffuse(color("#ffffff")) \
	elseif GAMESTATE:HasEarnedExtraStage() and GAMESTATE:IsExtraStage() and not GAMESTATE:IsExtraStage2() then\
		self:diffuse(color("#000000")) \
	elseif GAMESTATE:IsExtraStage() or GAMESTATE:IsExtraStage2() then \
		self:diffuse(color("#ffffff")) \
	else \
		self:diffuse(color("#000000")) \
	end; \
	if param.Meter then \
		if param.Meter >= 20 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
	if param.PlayerNumber==PLAYER_1 then \
		self:addx(8); \
	elseif param.PlayerNumber==PLAYER_2 then \
		self:addx(-8); \
	end; \
end;
ShowDescription=true
DescriptionX=0
DescriptionY=0
DescriptionOnCommand=uppercase,true;zoom,0.275;maxwidth,512
DescriptionOffCommand=
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:strokecolor(color("0,0,0,1")); \
	end; \
end;
#
ShowAutogen=false
AutogenX=40
AutogenY=0
AutogenOnCommand=
AutogenSetCommand=%function(self,param) if param.Difficulty then self:diffuse(CustomDifficultyToLightColor(param.Difficulty)); self:strokecolor(CustomDifficultyToDarkColor(param.Difficulty)); end end
#
ShowStepsType=GetUserPrefB("UserPrefAutoSetStyle")
StepsTypeX=-20
StepsTypeY=7
StepsTypeOnCommand=zoom,0.45

ShowFrame=true
FrameX=
FrameOnCommand=zoom,0
FrameSetCommand=

[Player]
PercentUntilColorCombo=0
ComboUnderField=true

# ????????Y????Scripts/02 Other.lua???
JudgmentTransformCommand=%JudgmentTransformCommand

# ????Y??Scripts/02 Other.lua???
ComboTransformCommand=%ComboTransformCommand

ReceptorArrowsYStandard=-156
ReceptorArrowsYReverse=128

ComboUnderField=true
AttackDisplayY=-70
AttackDisplayYReverse=70

[Judgment]
JudgmentOnCommand=shadowlength,0;

JudgmentW1Command=glowblink;effectperiod,0.025;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.2");diffusealpha,1;zoomx,1.05;zoomy,1.2;linear,0.066;zoom,1;sleep,0.434;diffusealpha,0
JudgmentW2Command=stopeffect;diffusealpha,1;zoomx,1.03;zoomy,1.15;linear,0.066;zoom,1;sleep,0.434;diffusealpha,0
JudgmentW3Command=stopeffect;diffusealpha,1;zoomx,1.03;zoomy,1.05;linear,0.066;zoom,1;sleep,0.434;diffusealpha,0
JudgmentW4Command=stopeffect;diffusealpha,1;sleep,0.5;diffusealpha,0
JudgmentW5Command=stopeffect;linear,0.05;diffusealpha,1;linear,0.45;addy,26;linear,0;diffusealpha,0;addy,-26
JudgmentMissCommand=stopeffect;linear,0.05;diffusealpha,1;linear,0.45;addy,26;linear,0;diffusealpha,0;addy,-26

JudgmentBiasOnCommand=shadowlength,0;x,75;y,48;zoom,0.9
JudgmentBiasCommand=diffusealpha,1;sleep,0.85;diffusealpha,0

[HoldJudgment]
HoldJudgmentLetGoCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;sleep,0.6;diffusealpha,0
HoldJudgmentHeldCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoomy,1.5;zoomx,1.2;sleep,0.016;linear,0.033;zoom,1;sleep,0.55;linear,0;diffusealpha,0

# todo: fix this
[Combo]
ShowComboAt=4
#ShowMissesAt is no longer a metric it would seem

NumberOnCommand=y,20;align,1,1
LabelOnCommand=x,6;y,20;align,0,1

PulseCommand=%function(self,param) self:stoptweening(); self:zoom(1.33*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); self:maxwidth(450); end
PulseLabelCommand=%function(self,param) self:stoptweening(); self:zoom(1.33*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end

NumberMinZoom=1
NumberMaxZoom=1
NumberMaxZoomAt=100

LabelMinZoom=1.0
LabelMaxZoom=1.0

[RollingNumbers]
TextFormat="%07.0f"
ApproachSeconds=0.1
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersSongData]
TextFormat="%07.0f"
ApproachSeconds=0.001
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersMeterNoDiff]
Fallback="RollingNumbers"
ApproachSeconds=0.00001
LeadingZeroMultiplyColor=color("1,1,1,1")
TextFormat="%02.0f"

[RollingNumbersMeter]
Fallback="RollingNumbers"
ApproachSeconds=0.00001
LeadingZeroMultiplyColor=color("0.25,0.25,0.25,1")
TextFormat="%02.0f"

[RollingNumbersStage]
Fallback="RollingNumbers"
TextFormat="%7.0f"
Commify=true

[RollingNumbersMusic]
Fallback="RollingNumbers"
TextFormat="%7.0f"
Commify=false

[StreamDisplay]
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:setsize((SCREEN_WIDTH/2.88),30) end
AlwaysBounceNormalBar=false
TextureCoordScaleX=-1
NumPills=1

[StepsDisplayGameplay]
Fallback="StepsDisplay"
ShowTicks=false
ShowAutogen=false
ShowStepsType=false
ShowMeter=false

ShowFrame=true
FrameX=0
FrameY=0
FrameOnCommand=animate,false
FrameLoadCommand=%function(self,param) \
	if param.PlayerState then \
		local pn = param.PlayerState:GetPlayerNumber(); \
		self:setstate(LoadStepsDisplayGameplayFrame(self,pn)) \
	end; \
end;
# thanks default theme, I need to *not* color this.
FrameSetCommand=visible,true

[CombinedLifeMeterTug]
MeterWidth=610
MeterHeight=32

[LifeMeterBattery Percent]
#this shouldn't show up. make it not show up. -tertu
PercentP1OnCommand=visible,false
PercentP2OnCommand=visible,false
DancePointsP1OnCommand=visible,false
DancePointsP2OnCommand=visible,false

[LifeMeterBattery]
MinScoreToKeepLife='TapNoteScore_W3'
MaxLives=4
DangerThreshold=1

BatteryP1X=0
BatteryP1Y=0
BatteryP2X=0
BatteryP2Y=0

NumLivesFormat=
NumLivesP1X=0
NumLivesP1Y=0
NumLivesP1GainLifeCommand=visible,false
NumLivesP1LoseLifeCommand=visible,false
NumLivesP2X=92
NumLivesP2Y=0
NumLivesP2GainLifeCommand=visible,false
NumLivesP2LoseLifeCommand=visible,false

[ScreenGameplayExtra]
Fallback="ScreenGameplay"

StageFrameX=SCREEN_CENTER_X
StageFrameY=SCREEN_BOTTOM-28
StageFrameOnCommand=draworder,1
StageFrameOffCommand=

ScoreFrameX=
ScoreFrameY=SCREEN_TOP+26
ScoreFrameOnCommand=draworder,2;zoomy,-1
ScoreFrameOffCommand=sleep,0.792;addy,999
#--#
ScoreP1X=SCREEN_LEFT+95
ScoreP1Y=SCREEN_TOP+24
ScoreP1OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP1OffCommand=sleep,0.792;addy,999
ScoreP2X=SCREEN_RIGHT-95
ScoreP2Y=SCREEN_TOP+24
ScoreP2OnCommand=draworder,2;zoom,1.2;diffuse,color("#F9FF20");
ScoreP2OffCommand=sleep,0.792;addy,999

# difficulty icon
StepsDisplayP1SetReverseCommand=y,SCREEN_TOP+11;halign,0;x,SCREEN_LEFT+75
StepsDisplayP2SetReverseCommand=y,SCREEN_TOP+11;halign,1;x,SCREEN_RIGHT-75

# life section on bottom
LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_BOTTOM-26
LifeFrameOnCommand=draworder,98;zoomy,-1
LifeFrameOffCommand=sleep,0.792;addy,999
#--#
LifeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")+3
LifeP1Y=SCREEN_BOTTOM-25
LifeP1OnCommand=draworder,2;zoomy,-1
LifeP1OffCommand=sleep,0.792;addy,999
LifeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")-3
LifeP2Y=SCREEN_BOTTOM-25
LifeP2OnCommand=draworder,2;zoomx,-1;zoomy,-1
LifeP2OffCommand=sleep,0.792;addy,999

StageDisplayX=SCREEN_CENTER_X+2
StageDisplayY=SCREEN_BOTTOM-32
StageDisplayOnCommand=draworder,4
StageDisplayOffCommand=
StageDisplayUseShortString=true

################################################################################
[ScreenEvaluation]
ShowFooter=true
ShowStyleIcon=true
WaitForChildrenBeforeTweeningOut=true
TimerSeconds=15

PrepareScreens="ScreenProfileSave,ScreenSelectMusic"
PersistScreens="ScreenEvaluation,ScreenProfileSave,ScreenSelectMusic"

NextScreen=Branch.AfterEvaluation()
PrevScreen=Branch.AfterEvaluation()

ShowHeader=true

StyleIconOffCommand=sleep,0.1;linear,0.1;zoomy,0
StyleIconOnCommand=draworder,96;zoomy,0;sleep,0.2;sleep,0.1;linear,0.1;zoomy,1
StyleIconX=SCREEN_CENTER_X-120
StyleIconY=SCREEN_TOP+15

ShowBannerArea=false
BannerWidth=256
BannerHeight=80
LargeBannerX=
LargeBannerY=
LargeBannerOnCommand=visible,false
LargeBannerOffCommand=
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y-129
LargeBannerFrameOnCommand=visible,false
LargeBannerFrameOffCommand=sleep,0.1;linear,0.1;zoomy,0

ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_TOP+60
StageDisplayOnCommand=draworder,105;fov,90;zoom,0.9;zoomy,0;sleep,0.35;smooth,0.35;zoomy,1.1
StageDisplayOffCommand=linear,0.05;zoomy,0;

ShowStepsDisplayP1=GAMESTATE:IsHumanPlayer(PLAYER_1)
StepsDisplayP1X=SCREEN_CENTER_X-336
StepsDisplayP1Y=SCREEN_CENTER_Y-20
StepsDisplayP1OnCommand=zoom,3;visible,GAMESTATE:IsHumanPlayer(PLAYER_1);
StepsDisplayP1OffCommand=linear,0.0015;zoomx,0;
#
ShowStepsDisplayP2=GAMESTATE:IsHumanPlayer(PLAYER_2)
StepsDisplayP2X=SCREEN_CENTER_X+336
StepsDisplayP2Y=SCREEN_CENTER_Y-20
StepsDisplayP2OnCommand=zoom,3;visible,GAMESTATE:IsHumanPlayer(PLAYER_2);
StepsDisplayP2OffCommand=linear,0.0015;zoomx,0;

ShowSongInformation=true
SongInformationX=SCREEN_CENTER_X+40
SongInformationY=SCREEN_CENTER_Y-180
SongInformationOnCommand=playcommand,"Set";draworder,105;
SongInformationOffCommand=

PlayerOptionsP1X=
PlayerOptionsP1Y=
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=
PlayerOptionsP2Y=
PlayerOptionsP2OnCommand=visible,false
PlayerOptionsP2OffCommand=

ShowGradeArea=false
GradeFrameP1X=
GradeFrameP1Y=
GradeFrameP1OnCommand=
GradeFrameP1OffCommand=
GradeFrameP2X=
GradeFrameP2Y=
GradeFrameP2OnCommand=
GradeFrameP2OffCommand=
GradeP1X=SCREEN_CENTER_X-233
GradeP1Y=SCREEN_CENTER_Y-121
GradeP1OnCommand=zoom,0;sleep,0.5;zoom,1
GradeP1OffCommand=linear,0.1;zoom,0
GradeP2X=SCREEN_CENTER_X+230
GradeP2Y=SCREEN_CENTER_Y-121
GradeP2OnCommand=zoom,0;sleep,0.5;zoom,1
GradeP2OffCommand=linear,0.1;zoom,0

ShowJudgmentLineW1=false
ShowJudgmentLineW2=false
ShowJudgmentLineW3=false
ShowJudgmentLineW4=false
ShowJudgmentLineW5=false
ShowJudgmentLineHeld=false
ShowJudgmentLineMiss=false
ShowJudgmentLineMaxCombo=false
ShowGradeArea=false
ShowScoreArea=true
ShowPointsArea=false
ShowSharedJudgmentLineLabels=false
ShowGraphDisplay=false
ShowComboGraph=false
ShowStepsDisplay=true
ShowPeakComboAward=false
ShowBonusArea=false

#
W1NumberP1X=SCREEN_CENTER_X-250-10-40-30
W1NumberP1Y=SCREEN_TOP+417-200
W1NumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W1NumberP1OffCommand=linear,0.2;diffusealpha,0
W1NumberP2X=SCREEN_CENTER_X+250+100-10-40+30
W1NumberP2Y=SCREEN_TOP+417-200
W1NumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W1NumberP2OffCommand=linear,0.2;diffusealpha,0
W1LabelX=SCREEN_CENTER_X
W1LabelY=SCREEN_TOP-999
W1LabelOnCommand=
W1LabelOffCommand=
#
W2NumberP1X=SCREEN_CENTER_X-250-10-40-30
W2NumberP1Y=SCREEN_TOP+417+22.4-200
W2NumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W2NumberP1OffCommand=linear,0.2;diffusealpha,0
W2NumberP2X=SCREEN_CENTER_X+250+100-10-40+30
W2NumberP2Y=SCREEN_TOP+417+22.4-200
W2NumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W2NumberP2OffCommand=linear,0.2;diffusealpha,0
W2LabelX=SCREEN_CENTER_X
W2LabelY=SCREEN_TOP+9180
W2LabelOnCommand=
W2LabelOffCommand=
#
W3NumberP1X=SCREEN_CENTER_X-250-10-40-30
W3NumberP1Y=SCREEN_TOP+417+22.4+22.4-200
W3NumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W3NumberP1OffCommand=linear,0.2;diffusealpha,0
W3NumberP2X=SCREEN_CENTER_X+250+100-10-40+30
W3NumberP2Y=SCREEN_TOP+417+22.4+22.4-200
W3NumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W3NumberP2OffCommand=linear,0.2;diffusealpha,0
W3LabelX=SCREEN_CENTER_X
W3LabelY=SCREEN_TOP+9200
W3LabelOnCommand=
W3LabelOffCommand=
#
W4NumberP1X=SCREEN_CENTER_X-250-10-40-30
W4NumberP1Y=SCREEN_TOP+417+22.4+22.4+22.4-200
W4NumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W4NumberP1OffCommand=linear,0.2;diffusealpha,0
W4NumberP2X=SCREEN_CENTER_X+250+100-10-40+30
W4NumberP2Y=SCREEN_TOP+417+22.4+22.4+22.4-200
W4NumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W4NumberP2OffCommand=linear,0.2;diffusealpha,0
W4LabelX=SCREEN_CENTER_X
W4LabelY=SCREEN_TOP+9220
W4LabelOnCommand=
W4LabelOffCommand=
#
W5NumberP1X=SCREEN_CENTER_X-250-10-40-30
W5NumberP1Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4+22.4-200
W5NumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W5NumberP1OffCommand=linear,0.2;diffusealpha,0
W5NumberP2X=SCREEN_CENTER_X+250+100-10-40+30
W5NumberP2Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4+22.4-200
W5NumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
W5NumberP2OffCommand=linear,0.2;diffusealpha,0
W5LabelX=SCREEN_CENTER_X
W5LabelY=SCREEN_TOP+9240
W5LabelOnCommand=
W5LabelOffCommand=
#
MissNumberP1X=SCREEN_CENTER_X-250-10-40-30
MissNumberP1Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4+22.4+22.4-200
MissNumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
MissNumberP1OffCommand=linear,0.2;diffusealpha,0
MissNumberP2X=SCREEN_CENTER_X+250+100-10-40+30
MissNumberP2Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4+22.4+22.4-200
MissNumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
MissNumberP2OffCommand=linear,0.2;diffusealpha,0
MissLabelX=SCREEN_CENTER_X
MissLabelY=SCREEN_TOP+9260
MissLabelOnCommand=
MissLabelOffCommand=
#
HeldNumberP1X=SCREEN_CENTER_X-250-10-40-30
HeldNumberP1Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4-200
HeldNumberP1OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
HeldNumberP1OffCommand=linear,0.2;diffusealpha,0
HeldNumberP2X=SCREEN_CENTER_X+250+100-10-40+30
HeldNumberP2Y=SCREEN_TOP+417+22.4+22.4+22.4+22.4-200
HeldNumberP2OnCommand=zoom,0.72;diffuse,Color("Black");draworder,5
HeldNumberP2OffCommand=linear,0.2;diffusealpha,0
HeldLabelX=SCREEN_CENTER_X
HeldLabelY=SCREEN_TOP+9999
HeldLabelOnCommand=
HeldLabelOffCommand=
#
MaxComboNumberP1X=SCREEN_CENTER_X-220-10-30
MaxComboNumberP1Y=SCREEN_CENTER_Y+23-200
MaxComboNumberP1OnCommand=zoom,0.72;diffuse,Color("White");draworder,5
MaxComboNumberP1OffCommand=linear,0.2;diffusealpha,0
MaxComboNumberP2X=SCREEN_CENTER_X+250+130-10+30
MaxComboNumberP2Y=SCREEN_CENTER_Y+23-200
MaxComboNumberP2OnCommand=zoom,0.72;diffuse,Color("White");draworder,5
MaxComboNumberP2OffCommand=linear,0.2;diffusealpha,0
MaxComboLabelX=SCREEN_CENTER_X
MaxComboLabelY=SCREEN_TOP+9300
MaxComboLabelOnCommand=
MaxComboLabelOffCommand=
#
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_TOP+330
ScoreLabelOnCommand=
ScoreLabelOffCommand=
#
ScoreNumberP1X=SCREEN_CENTER_X-310
ScoreNumberP1Y=SCREEN_CENTER_Y-47.5
ScoreNumberP1OnCommand=zoomx,1;zoomy,0.95;visible,false
ScoreNumberP1OffCommand=linear,0.1;zoomy,0
ScoreNumberP2X=SCREEN_CENTER_X+310+53
ScoreNumberP2Y=SCREEN_CENTER_Y-47.5
ScoreNumberP2OnCommand=zoomx,1;zoomy,0.95;visible,false
ScoreNumberP2OffCommand=linear,0.1;zoomy,0

ShowBonusArea=false

ShowMachineRecord=true
MachineRecordP1X=SCREEN_CENTER_X-230
MachineRecordP1Y=SCREEN_CENTER_Y+120
MachineRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP1OffCommand=linear,0.7;diffusealpha,0

MachineRecordP2X=SCREEN_CENTER_X+230
MachineRecordP2Y=SCREEN_CENTER_Y+120
MachineRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
MachineRecordP2OffCommand=linear,0.7;diffusealpha,0

ShowPersonalRecord=true
PersonalRecordP1X=SCREEN_LEFT+120
PersonalRecordP1Y=SCREEN_CENTER_Y+12
PersonalRecordP1OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP1OffCommand=linear,0.7;diffusealpha,0

PersonalRecordP2X=SCREEN_LEFT-120
PersonalRecordP2Y=SCREEN_CENTER_Y+12
PersonalRecordP2OnCommand=zoom,0.88;draworder,99;diffusealpha,0;linear,0.7;diffusealpha,1;diffuseshift;effectcolor1,color("1,1,1,1");effectcolor2,color("0.4,0.4,0.4,1");effectperiod,0.198
PersonalRecordP2OffCommand=linear,0.7;diffusealpha,0
----------------------------------------
# only used in normal mode
ShowTryExtraStage=false
TryExtraStageX=SCREEN_CENTER_X
TryExtraStageY=SCREEN_CENTER_Y+165
TryExtraStageOnCommand=addx,482;sleep,1.023;decelerate,0.520;addx,-482;glowshift;effectperiod,0.4;effectcolor1,0,0,0,0;effectcolor2,0,0,0,0.3
TryExtraStageOffCommand=sleep,0.750;diffusealpha,0

# used in two of three course mode evals (and extra stage)
ShowTimeArea=false
TimeLabelX=SCREEN_CENTER_X
TimeLabelY=SCREEN_CENTER_Y+115
TimeLabelOnCommand=addy,138;sleep,0.866;decelerate,0.116;addy,-138
TimeLabelOffCommand=sleep,0.016;accelerate,0.116;addy,138
#--#
TimeNumberP1X=SCREEN_LEFT+120
TimeNumberP1Y=SCREEN_CENTER_Y
TimeNumberP1OnCommand=diffusealpha,0;sleep,0.8;diffusealpha,1
TimeNumberP1OffCommand=sleep,0.0;accelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2X=SCREEN_CENTER_X+160
TimeNumberP2Y=SCREEN_CENTER_Y+140
TimeNumberP2OnCommand=addx,SCREEN_CENTER_X;sleep,0.8;decelerate,0.3;addx,-SCREEN_CENTER_X
TimeNumberP2OffCommand=sleep,0.0;accelerate,0.3;addx,SCREEN_CENTER_X

ShowPointsArea=false
PercentFrameP1X=SCREEN_CENTER_X-224
PercentFrameP1Y=SCREEN_CENTER_Y-130
PercentFrameP1OnCommand=addx,-SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,SCREEN_CENTER_X
PercentFrameP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2X=SCREEN_CENTER_X+224
PercentFrameP2Y=SCREEN_CENTER_Y-130
PercentFrameP2OnCommand=addx,SCREEN_CENTER_X;sleep,0.0;decelerate,0.3;addx,-SCREEN_CENTER_X
PercentFrameP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

PercentP1X=SCREEN_CENTER_X-208
PercentP1Y=SCREEN_CENTER_Y-105
PercentP1OnCommand=diffusealpha,0;sleep,0.8;diffusealpha,1;
PercentP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_CENTER_X
PercentP2X=SCREEN_CENTER_X+240
PercentP2Y=SCREEN_CENTER_Y-105
PercentP2OnCommand=diffusealpha,0;sleep,0.8;diffusealpha,1;
PercentP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_CENTER_X

## used in all three course mode evals; putting metrics here
ShowSurvivedArea=false
SurvivedFrameP1X=SCREEN_CENTER_X-200
SurvivedFrameP1Y=SCREEN_CENTER_Y+16
SurvivedFrameP1OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP1OffCommand=linear,0.7;diffusealpha,0
SurvivedFrameP2X=SCREEN_CENTER_X+200
SurvivedFrameP2Y=SCREEN_CENTER_Y+16
SurvivedFrameP2OnCommand=diffusealpha,0;linear,0.7;diffusealpha,1
SurvivedFrameP2OffCommand=linear,0.7;diffusealpha,0

SurvivedNumberP1X=SCREEN_CENTER_X-224
SurvivedNumberP1Y=SCREEN_CENTER_Y-20
SurvivedNumberP1OnCommand=diffusealpha,0;sleep,0.8;diffusealpha,1;
SurvivedNumberP1OffCommand=linear,0.7;diffusealpha,0
SurvivedNumberP2X=SCREEN_CENTER_X+220
SurvivedNumberP2Y=SCREEN_CENTER_Y-20
SurvivedNumberP2OnCommand=diffusealpha,0;sleep,0.8;diffusealpha,1;
SurvivedNumberP2OffCommand=linear,0.7;diffusealpha,0

# Song options
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y-188
SongOptionsOnCommand=draworder,99;shadowlength,1;zoomy,0;linear,0.5;zoom,0.5
SongOptionsOffCommand=linear,0.5;zoomy,0

#=======================#
[ScreenEvaluationNormal]
ShowRecordDisplays=true

ShowMachineRecord=true

ShowPersonalRecord=true

[ScreenEvaluationOni]
Fallback="ScreenEvaluation"
ShowTimeArea=true

[ScreenEvaluationNonstop]
Fallback="ScreenEvaluationOni"

[ScreenEvaluationRave]
Fallback="ScreenEvaluation"

[ScreenEvaluationSummary]
Fallback="ScreenEvaluation"
NextScreen=Branch.AfterSummary

PlayMusic=false

Summary=true
ShowStyleIcon=true
ShowStageDisplay=false
ShowDifficultyIcon=false
ShowTryExtraStage=false

ShowScoreArea=true
#--#
ScoreNumberP1X=SCREEN_LEFT+100
ScoreNumberP1Y=SCREEN_CENTER_Y+155
ScoreNumberP1OnCommand=draworder,88;diffuse,color("#F9FF20");draworder,9;addx,-246;sleep,0.2;linear,0.2;addx,246
ScoreNumberP1OffCommand=linear,0.2;addx,-246
ScoreNumberP2X=SCREEN_RIGHT-100
ScoreNumberP2Y=SCREEN_CENTER_Y+155
ScoreNumberP2OnCommand=draworder,88;diffuse,color("#F9FF20");draworder,9;addx,246;sleep,0.2;linear,0.2;addx,-246
ScoreNumberP2OffCommand=linear,0.2;addx,246

#--Banner--#

SmallBanner1X=SCREEN_CENTER_X-60
SmallBanner1Y=SCREEN_CENTER_Y-155
SmallBanner1OnCommand=visible,true;draworder,100;zoom,0.5;
SmallBanner1OffCommand=visible,false
#--#
SmallBanner2X=SCREEN_CENTER_X-30
SmallBanner2Y=SCREEN_CENTER_Y-145
SmallBanner2OnCommand=visible,true;draworder,80;zoom,0.5;
SmallBanner2OffCommand=visible,false
#--#
SmallBanner3X=SCREEN_CENTER_X
SmallBanner3Y=SCREEN_CENTER_Y-135
SmallBanner3OnCommand=visible,true;draworder,60;zoom,0.5;
SmallBanner3OffCommand=visible,false
#--#
SmallBanner4X=SCREEN_CENTER_X+30
SmallBanner4Y=SCREEN_CENTER_Y-125
SmallBanner4OnCommand=visible,true;draworder,40;zoom,0.5;
SmallBanner4OffCommand=visible,false
#--#
SmallBanner5X=SCREEN_CENTER_X+60
SmallBanner5Y=SCREEN_CENTER_Y-115
SmallBanner5OnCommand=visible,true;draworder,20;zoom,0.5;
SmallBanner5OffCommand=visible,false
#--#

[ScreenCredits]
#TimerSeconds=268.2
TimerSeconds=10
ResetGameState=false
NextScreen="ScreenGameOver"
StopMusicOnBack=true

[ScreenProfileLoad]
Fallback="ScreenSelectProfile"
NextScreen=Branch.AfterProfileLoad()
ShowHeader=false
ShowFooter=false

CodeNames="Start"
CodeStart="Start"

[ScreenSelectProfile]
WaitForChildrenBeforeTweening=false
Fallback="ScreenWithMenuElements"
Class="ScreenSelectProfile"
#
NextScreen="ScreenCaution"
PrevScreen=Branch.TitleMenu()
StartScreen="ScreenTitleMenu"
ScreenOnCommand=%function(self) self:lockinput(3); end;
#
ShowHeader=true
ShowFooter=true
#
CodeNames=SelectProfileKeys()
CodeUp="+Up"
CodeUp2="+Left"
CodeDown="+Down"
CodeDown2="+Right"
# Holding Start let us skip ( annoying )
CodeStart="Start"
CodeBack="Back"
CodeCenter="Center"
CodeDownLeft="DownLeft"
CodeDownRight="DownRight"

ScreenOutDelay=1
ShowHelp=false
StopMusicOnBack=true

[ScreenSelectMaster]
Class="ScreenSelectMaster"
Fallback="ScreenWithMenuElements"
StopMusicOnBack=true

[ScreenProfileOptions]
# Class="ScreenSelectMaster"
# Fallback="ScreenSelectMaster"
Class="ScreenSelectProfile"
Fallback="ScreenSelectProfile"

ScreenOnCommand=

# NextScreen=Branch_1st.TitleMenu()
# PrevScreen=Branch_1st.TitleMenu()
# NextScreen=Branch_1st.Caution()

NextScreen="ScreenProfileOptionsSave"
PrevScreen="ScreenSelectProfile"
#
AllowRepeatingInput=true

ShowHeader=true

TimerOnCommand=
TimerOffCommand=linear,0.25;addy,-100

ShowFooter=false
ShowHelp=false

# mk2ultra
ChoiceNames="1,2,3,4"
DefaultChoice="1"
Choice1="name,TopLeft;"
Choice2="name,TopRight;"
Choice3="name,BotLeft;"
Choice4="name,BotRight;"

OptionOrderUp="1:3,3:1,2:4,4:2"
OptionOrderDown="1:3,3:1,2:4,4:2"
OptionOrderLeft="1:2,2:1,3:4,4:3"
OptionOrderRight="1:2,2:1,3:4,4:3"

CodeNames="Start,Select,Back,Up,Down,Left,Right"
CodeSelect="+Select"
CodeStart="Start"
CodeLeft="+Left"
CodeRight="+Right"
CodeBack="Back"
CodeUp="+Up"
CodeDown="+Down"

[ScreenProfileOptionsSave]
Fallback="ScreenProfileSave"
NextScreen="ScreenCaution"

[ScreenProfileSave]


[ScreenProfileSaveSummary]
NextScreen="ScreenDataSaveSummary"

[ScreenDataSaveSummary]
ScreenOutDelay=0
ScreenInDelay=0
Fallback="ScreenSplash"
TimerSeconds=20
TimerOnCommand=visible,true
ShowHeader=true
ShowFooter=true

AllowStartToSkip=true
NextScreen=Branch.AfterDataSaveSummary()
PrevScreen=Branch.AfterDataSaveSummary()
StartScreen=Branch.AfterDataSaveSummary()

[ScreenDataSaveSummaryEnd]
Class="ScreenProfileSave"
Fallback="ScreenProfileSave"
NextScreen="ScreenGameOver"
PrevScreen="ScreenGameOver"
TimerSeconds=-1

[ScreenMusicScroll]
Fallback="ScreenAttract"
NextScreen="ScreenGameOver"
PrevScreen="ScreenMusicScroll"

[ScreenGameOver]
NextScreen="ScreenWarning"
TimerSeconds=8
ForceTimer=true
TimerStealth=true
PlayMusic=false

[X2DifficultyList]
StartPositionY = -80
ItemSpacingY = 40
ScorePositionX = 244
TickPositionX = 84
LabelPositionX = -20
TotalWidth=616
PlayerLabelXOffset = 130

[Screen2ndMIXLogo]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeader=false
ShowFooter=false

ShowStyleIcon=true
ShowHelp=false

DefaultChoice="Start"
ChoiceNames="1"
NumChoicesOnPage1=1

Choice1="name,Start;playmode,regular;difficulty,easy;screen,Screen2ndMIXSelectGameMode"

PerChoiceScrollElement=true
PerChoiceIconElement=true
#
ShowScroller=false
ShowCursor=false
ShowIcon=false
UseIconMetrics=false

[Screen2ndMIXSelectGameMode]
Fallback="ScreenSelectGameMode"
ShowHeader=false
ShowFooter=false

NumCodes=0
OptionOrderUp=
OptionOrderDown=
OptionOrderLeft=
OptionOrderRight=
OptionOrderAuto=

ChoiceNames="1,2,3"
DefaultChoice="2"

ShowScroller=false
ShowIcon=true
UseIconMetrics=true
PerChoiceIconElement=true
SharedSelection=true

Choice1="playmode,regular;name,Easy;screen,Screen2ndMIXSelectMusic"
Choice2="playmode,regular;name,Normal;screen,Screen2ndMIXSelectMusic"
Choice3="playmode,regular;name,Hard;screen,Screen2ndMIXSelectMusic"

#- page 1 -#
IconChoiceEasyX=SCREEN_CENTER_X-302
IconChoiceEasyY=SCREEN_CENTER_Y-146
IconChoiceEasyOnCommand=draworder,1
IconChoiceEasySwitchToPage1Command=
IconChoiceEasySwitchToPage2Command=
#--#
IconChoiceNormalX=SCREEN_CENTER_X
IconChoiceNormalY=SCREEN_CENTER_Y-146
IconChoiceNormalOnCommand=draworder,2
IconChoiceNormalSwitchToPage1Command=
IconChoiceNormalSwitchToPage2Command=
#--#
IconChoiceHardX=SCREEN_CENTER_X+302
IconChoiceHardY=SCREEN_CENTER_Y-146
IconChoiceHardOnCommand=draworder,1
IconChoiceHardSwitchToPage1Command=
IconChoiceHardSwitchToPage2Command=

[Screen2ndMIXSelectMusic]
Fallback = "ScreenSelectMusic"
ShowHeader=false
ShowFooter=false

#Banner
BannerX=SCREEN_CENTER_X
BannerY=SCREEN_CENTER_Y-138
BannerOnCommand=scaletoclipped,576,165;
BannerOffCommand=bouncebegin,0.15;zoomx,0;


MusicWheelType="2ndWheel"

#MusicWheel
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=SCREEN_CENTER_Y-100
MusicWheelOnCommand=%function(self) \
	self:draworder(-19); \
	self:fov(75); \
	self:rotationx(-60); \
end;
MusicWheelOffCommand=

[2ndWheel]
Fallback="MusicWheel"
ShowRandom=false
ShowRoulette=false
ShowPortal=false
SwitchSeconds=0.25

RouletteColor=color("#FFFFFF")
RandomColor=color("#FFFFFF")

LockedInitialVelocity=9

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( math.sin(offsetFromCenter*(math.pi/4))*360 ); \
	self:y(math.cos(offsetFromCenter*(math.pi/4))*360); \
end
NumWheelItems=8

HighlightOnCommand=



ScrollBarHeight=300
ScrollBarOnCommand=draworder,99;x,400

NumSectionColors=1
SectionColor1=color("#FFFF20")

SortMenuColor=color("#FFFF20")

UseSectionsWithPreferredGroup=false
SortOrders={ "SortOrder_Title" }
